<h1>Toy Robot Simulator</h1>

<div id="table-container">
  <table id="table" data-controller="toy-robot" data-toy-robot-x="<%= @current_position[:x_coord] %>" data-toy-robot-y="<%= @current_position[:y_coord] %>" data-toy-robot-facing="<%= @current_position[:facing] %>">
    <tr>
      <td data-toy-robot-target="tableCell" id="0-0"></td>
      <td data-toy-robot-target="tableCell" id="1-0"></td>
      <td data-toy-robot-target="tableCell" id="2-0"></td>
      <td data-toy-robot-target="tableCell" id="3-0"></td>
      <td data-toy-robot-target="tableCell" id="4-0"></td>
    </tr>
    <tr>
      <td data-toy-robot-target="tableCell" id="0-1"></td>
      <td data-toy-robot-target="tableCell" id="1-1"></td>
      <td data-toy-robot-target="tableCell" id="2-1"></td>
      <td data-toy-robot-target="tableCell" id="3-1"></td>
      <td data-toy-robot-target="tableCell" id="4-1"></td>
    </tr>
    <tr>
      <td data-toy-robot-target="tableCell" id="0-2"></td>
      <td data-toy-robot-target="tableCell" id="1-2"></td>
      <td data-toy-robot-target="tableCell" id="2-2"></td>
      <td data-toy-robot-target="tableCell" id="3-2"></td>
      <td data-toy-robot-target="tableCell" id="4-2"></td>
    </tr>
    <tr>
      <td data-toy-robot-target="tableCell" id="0-3"></td>
      <td data-toy-robot-target="tableCell" id="1-3"></td>
      <td data-toy-robot-target="tableCell" id="2-3"></td>
      <td data-toy-robot-target="tableCell" id="3-3"></td>
      <td data-toy-robot-target="tableCell" id="4-3"></td>
    </tr>
    <tr>
      <td data-toy-robot-target="tableCell" id="0-4"></td>
      <td data-toy-robot-target="tableCell" id="1-4"></td>
      <td data-toy-robot-target="tableCell" id="2-4"></td>
      <td data-toy-robot-target="tableCell" id="3-4"></td>
      <td data-toy-robot-target="tableCell" id="4-4"></td>
    </tr>
  </table>
</div>

<%= form_tag execute_command_path, method: :post do %>
  <%= text_field_tag :command, nil, placeholder: 'Enter command' %>
  <%= submit_tag 'Execute' %>
<% end %>

<% if flash[:notice].present? %>
  <div class="flash-notice">
    <%= flash[:notice] %>
  </div>
<% end %>